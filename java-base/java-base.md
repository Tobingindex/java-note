# Java基础

## 概述

Java语言主要有以下特性：

+ **易学**：Java语法与C和C++接近，可以让大多数程序员容易学习和使用；
+ **强制面向对**象：Java提供类、接口和集成等原语，为简单起见，支持类之间的单继承，支持接口之间的多继承，支持类与接口之间的实现机制；
+ **分布式**：Java支持Internet有与开发，基本的Java应用编程接口中有一个网络应用编程接口，提供了用于网络应用编程的类库。Java的RMI机制也是分布式应用的重要手段；
+ **健壮**：Java的强类型机制、异常处理、垃圾自动回收是Java程序健壮性的重要保证；
+ **安全**：Java常用于网络环境，因此提供了安全机制防止恶意代码攻击。如ClassLoader，如分配不同名字空间方提到本地的同名类、字节码检查；
+ **体系结构中立**：Java程序在Java平台编译为体系结构中立的字节码格式，可以实现在任意按照了Java平台的任意系统中运行；
+ **解释型**：Java程序在Java平台被编译为字节码给，可以实现在任意系统的解释器上运行；
+ **性能较高**：与解释型的脚本语言相比，Java性能较高；
+ **原生支持多线程**：Java中，线程是一种特殊的对象，必须是Thread类或子类创建。

Java主要有以下特点：

+ **面向对象**：类、对象、封装、进程、多态；
+ **健壮性**：吸收了C/C++语言的优点，但去掉了其影响程序健壮性的部分（如指针、内存的申请与释放等），提供了一个相对安全的内存管理和访问机制；
+ **跨平台**：通过Java语言编写的应用程序在不同的系统平台上都可以运行；

Java具有两个核心机制：

+ Java虚拟机：JVM是一个虚拟的计算机，具有指令集并使用不同的存储区域。负责执行指令，管理数据、内存、寄存器。对于不同的平台，有不同的虚拟机。Java虚拟机机制屏蔽了底层运行平台的差别，实现了“一次编译，到处运行”。
+ 垃圾收集机制：Java 语言消除了程序员回收无用内存空间的责任：它提供一种系统级线程跟踪存储空间的分配情况。并在JVM空闲时，检查并释放那些可被释放的存储空间。

## 基本语法

### 变量

#### 变量分类-按数据类型

![image-20210831223231175](https://gitee.com/tobing/imagebed/raw/master/image-20210831223231175.png)

#### 变量分类-按声明位置

![image-20210831223411963](https://gitee.com/tobing/imagebed/raw/master/image-20210831223411963.png)

+ 成员变量：方法外，类体内声明的变量；
+ 局部变量：方法内声明的变量，除形参外需要显式初始化。

#### 数据类型

**整型**

| 类型  | 占用空间(字节/Byte) | 表示范围               |
| ----- | ------------------- | ---------------------- |
| byte  | 1                   | -128~127               |
| short | 2                   | -2^15~2^15-1           |
| int   | 4                   | -2^31~2^31-1(21亿左右) |
| long  | 8                   | -2^63~2^63-1           |

+ 整型常量默认为int，long类型常量需要加「l」或「L」；

**浮点类型**

| 类型   | 占用空间(字节/Byte) | 表示范围               |
| ------ | ------------------- | ---------------------- |
| float  | 4                   | -3.403E38 ~ 3.403E38   |
| double | 8                   | -1.798E308 ~ 1.798E308 |

+ float：单精度，尾数可以精确到7位有效数字；
+ double：双精度，节点是float两倍；
+ Java中浮点型默认为double，声明float型变量需要加「f」或「F」

**字符型**

+ Java中的所有字符都使用Unicode编码，故一个字符可以存储一个字母，一个汉字，或其他书面语的一个字符。

+ char类型可以进行运算，运算是使用的是对应Unicode编码；

+ 字符型变量有三种表现形式：

  ```java
  // 使用单引号括起来的单个字符
  char c1 = 'a';
  char c2 = '中';
  char c3 = '9';
  // 使用转义字符「\」将后面的字符转变为特殊字符型常量
  char c4 = '\n';
  // 直接使用Unicode值表示字符型常量
  char c5 = '\u1234';
  ```

**布尔类型**

boolean类型用于判断逻辑条件，一般用于程序流程控制：if、while、do-while、for；

boolean一般只允许去true或false，无null；

Java虚拟机没有提供任何供Boolean值专用字节码指令，Java表达操作的boolean在编译之后都是用Java虚拟机中的int数据类型来代替，true用1表示，flase用0表示。

#### 基本数据类型转换

自动类型转换：容量小的类型自动转换为容量大的数据类型。

![image-20210831234525289](https://gitee.com/tobing/imagebed/raw/master/image-20210831234525289.png)

+ 多种数据类型的数据混合运算时，系统先自动将所有数据类型转换为容量大的类型，再进行计算；
+ byte、short、char之间不会先相互转换，计算时实现转换为int；
+ boolean类型不能与其他数据类型运算；
+ 把任何基本数据类型的值和字符串进行连接运算(+)时，基本数据类型将自动转换为字符串类型。

#### String

String不是基本数据类型，是引用数据类型，但是使用方式和基本数据类型一致，如`String str = "tobing";`。一个字符串可用串接另个字符串，也可以直接串接其他数据类型。

#### 强制类型转换

将容量大的数据类型转换为容量小的数据类型。使用时要加上强制转换符：()，但可能造成精度降低或溢出,格外要注意。通常，字符串不能直接转换为基本类型，但通过基本类型对应的包装类则可以实现把字符串转换成基本类型。

#### 二进制







