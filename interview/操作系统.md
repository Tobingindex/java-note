# 操作系统

> 进程间通信的方式

+ 进程是计算机系统分配资源的最小单位，每个进程有自己的一部分独立的系统资源，彼此隔离；
+ 为了能够让不同的进程互相访问资源并进行协调工作，于是有了进程间通信；
+ 常见的进程间通信方式有：管道、消息队列、信号量、共享内存、信号机制、套接字；
+ 管道是最常见的IPC，平时使用`ps -ef | grep java`查看java相关进程的时候就是使用这种方式；
+ 管道使用半双工的通信方式，通信的数据是字节流，需要应用自行解析；
+ 消息队列以消息为内核数据抽象的通信方式。应用可以通过消息队列发送以及接收消息；
+ 消息队列的特点是可以运行多个进程同时通信，可以实现为半双工或全双工；
+ 信号量核心是维护了一个整形计数器，计数器由内核维护，对信号量操作需要通过系统调用；
+ 信号量传递的数据量很小，常用于进程间的同步；
+ 共享内存通过内核为进程创建的共享内存进行通信，共享内存创建完毕之后，进程间通信不需要内核参与；
+ 共享内存允许一个或多个进程的虚拟地址空间映射到相同的物理页，从而进行通信；
+ 信号机制主要实现单向的事件通知能力，可以通过为信号绑定特定的回调函数实现进程间通信；
+ 如果我们在Shell中点击Ctrl+C时，会触发Shell发出一个SIGINT信号，导致该信号的处理函数结束对应进程；
+ 套接字是一种用于本地又可以用于网络间进程使用的通信机制；



> 虚拟内存的实现方式

+ 操作系统通过「虚拟内存机制」来保证不同的应用程序能够高效安全地使用物理内存资源；
+ 在引入了虚拟内存之后，应用程序面向虚拟内存编写而不是物理内存编写；
+ 应用程序运行时只能使用虚拟地址，CPU负责将虚拟地址翻译成物理地址；
+ 操作系统负责虚拟地址域物理地址的映射；
+ 在使用了虚拟内存之后，主要有以下好处：
+ 仅将应用程序实际使用的虚拟地址映射到物理地址，提高内存资源的利用率；
+ 每个应用程序只能看到自己的虚拟内存地址开年保证不同应用程序之间内存的隔离；
+ 每个应用程序的虚拟地址空间是统一的、连续的，接近无限的，降低了编程的复杂度；

+ 虚拟地址到物理地址的转换主要有CPU中的内存管理单元实现；
+ MMU的实现方式主要有两种，分段机制和分页机制，主流使用的是分页机制；
+ 分页机制将应用程序的虚拟地址开年划分为连续、等长的物理页；
+ 虚拟页与物理页固定且相等，主要可以使得操作系统方便为每个应用程序创建页表；
+ 分页机制下的虚拟地址被分为两部分：页号和页内偏移；
+ 在进行地址翻译是，MMU首先从地址中取出页号，到页表查询对应的真实物理地址；
+ 将真实物理地址加上业内偏移之后，就可以得到真实的物理地址；
+ 由于虚拟内存接近无限大，而物理内存的容量有限，当物理内存不足时，需要将内存持久化到磁盘，这样一来可以腾出物理内存给新的应用使用；
+ 虚拟内存通过「换页机制」来实现透明的物理内存换入与换出。
+ 当应用程序访问部分虚拟内存时，会触发一个「缺页中断」；
+ 此时CPU会运行操作系统预先定义的缺页异常处理函数；
+ 该函数会找到一个空闲的物理页，将之前持久化到磁盘的数据内容重新加载到物理页中；



> 几种内存页（缓存）替换方法

+ 分配物理页时，当空闲的物理页已经用完或小于某个阈值时，会根据「换页策略」选择一个或一些物理页缓存到磁盘以便让出物理内存；
+ 由于页的缓存换页涉及到IO读写，频繁的IO读写将会导致性能严重下降，因此换页策略应该尽可能减少缺页中断的发送；
+ 经典的换页策略有：OPT策略、FIFO策略、LRU策略
+ OPT策略优先选择未来不访问或最长时间不会被访问的页，这个是理论策略，很难实现，一般用于衡量其他换页策略的优劣；
+ FIFO策略优先选择最先换入的页进行换出，最简单，额外开销最低的换页策略；
+ LRU策略优先选择最久未被访问的页；



3、进程的调度方法

3、进程的调度方法

4、时间片与上下文切换

5、计算机系统结构内各存储器的访问速度与位置

6、

